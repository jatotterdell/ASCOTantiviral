# ASCOT Antiviral Domain Analyses

Analysis scripts for the close-out of the ASCOT antiviral domain.

## Project Setup

The project assumes that a `.Renviron` file exists in the project directory and defines a variable `ASCOT_DATA` which provides the top level directory of the RDS location. On my system this is:

```r
ASCOT_DATA = "/media/rds/PRJ-ascotsims/data"
```

The `.Rprofile` file then defines a few additional global constants.

Both are automatically loaded when opening `ASCOTantiviral.Rproj`.

### Quarto

Interactive notebooks are written using [Quarto](https://quarto.org/docs/get-started/).
To render the notebooks, either use the `quarto` package in RStudio or use the CLI by running

```sh
quarto render
```

to render all documents.

However, the analyses documents may take a long time to run due to model computations.
To render a single document can run:

```sh
quarto render analyses/<filename>.qmd
```

Rendered documents are output to `docs/`.

Changes can be monitored by using, for example

```{r}
quarto::quarto_preview()
```

from RStudio.

### Directories

Planned structure

```sh
.
├── analyses
├── docs
├── eda
├── outputs
│   ├── figures
│   ├── models
│   └── tables
├── r
├── report
└── stan
```

Note that `docs` and `outputs` are not tracked and will be generated by rendering the project.

### Functions

The project depends on the functions defined in the `ASCOTr` package.

```r
remotes::install_github("jatotterdell/ASCOTr")
```
